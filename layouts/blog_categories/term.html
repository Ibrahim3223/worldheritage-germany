{{ define "main" }}

<!-- Category Archive Header -->
<section class="bg-gradient-to-br from-forest-700 to-forest-900 text-white py-16 md:py-20">
  <div class="container-custom">
    <div class="max-w-4xl mx-auto text-center">
      <!-- Breadcrumbs -->
      <nav class="text-sm mb-6" style="color: white;">
        <ol class="flex items-center justify-center gap-2">
          <li><a href="/" class="hover:underline transition-colors" style="color: white;">Home</a></li>
          <li style="color: rgba(255, 255, 255, 0.6);">›</li>
          <li><a href="/blog/" class="hover:underline transition-colors" style="color: white;">Blog</a></li>
          <li style="color: rgba(255, 255, 255, 0.6);">›</li>
          <li style="color: white;">{{ .Title }}</li>
        </ol>
      </nav>

      <h1 class="text-4xl md:text-5xl font-serif font-bold mb-4">
        {{ .Title }}
      </h1>

      <p class="text-lg text-sage-200">
        {{ len .Pages }} {{ if eq (len .Pages) 1 }}article{{ else }}articles{{ end }} in this category
      </p>
    </div>
  </div>
</section>

<!-- Articles Grid -->
<div class="bg-white py-12 md:py-16">
  <div class="container-custom">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {{ range .Pages }}
        {{ partial "blog-card.html" . }}
      {{ end }}
    </div>

    <!-- Pagination -->
    {{ $paginator := .Paginate .Pages 12 }}
    {{ if gt $paginator.TotalPages 1 }}
    <div class="flex justify-center mt-12">
      <nav class="flex items-center gap-2">
        {{ if $paginator.HasPrev }}
        <a href="{{ $paginator.Prev.URL }}" class="px-4 py-2 border border-sand rounded-lg hover:bg-cream transition-colors">
          Previous
        </a>
        {{ end }}

        {{ range $paginator.Pagers }}
        <a
          href="{{ .URL }}"
          class="px-4 py-2 border rounded-lg transition-colors {{ if eq . $paginator }}bg-forest-600 text-white border-forest-600{{ else }}border-sand hover:bg-cream{{ end }}"
        >
          {{ .PageNumber }}
        </a>
        {{ end }}

        {{ if $paginator.HasNext }}
        <a href="{{ $paginator.Next.URL }}" class="px-4 py-2 border border-sand rounded-lg hover:bg-cream transition-colors">
          Next
        </a>
        {{ end }}
      </nav>
    </div>
    {{ end }}

    <!-- Back to Blog -->
    <div class="text-center mt-8">
      <a href="/blog/" class="inline-flex items-center gap-2 text-forest-600 hover:text-forest-700 font-semibold">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
        Back to All Articles
      </a>
    </div>
  </div>
</div>

{{ end }}
